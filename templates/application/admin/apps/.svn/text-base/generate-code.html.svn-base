<div id="theContainer" class="galleryPage">
    <div class="theContainer">
			
        <div class="theContent">
        	<div class="section">
           	<div class="col3" style="width:100%;">
						<form method="POST" action="{$basedomain}generateCode/doit" id="generatecodeform" >
							<table style="width:100%;">
								<tr><td>How Many: </td><td><input type="text" name="iteration" /></td></tr>
								<tr>
									<td>Channel :</td>
									<td>
										<select name="channel">
											<option value="" selected >-</option>
											{foreach $channellistdropdown as $key => $val}
												<option value="{$val.id}">{$val.channel|upper}</option>
											{/foreach} 
										</select>
									</td>
									<!-- <td><input type="text" name="channel" /></td> -->
								</tr>
								<tr>
									<td>Type :</td>
									<td>
										<select name="type">
											<option value="" selected >-</option>
											<option value="1">Common</option>
											<option value="2">Special</option>
										</select>
									</td>
								</tr>
								<tr>
									<td>Sub Channel: </td>
									<td>
										<select name="subchannel">
											<option value="" selected >-</option>
											{foreach $subchannellistdropdown as $key => $val}
												<option value="{$val.id}">{$val.sub_channel|upper}</option>
											{/foreach} 
										</select>
									</td>
									<!-- <td><input type="text" name="subchannel" /></td> -->
								</tr>
								<tr><td> <input type="submit" class="btnSubmit"  value="generates"  /> </td></tr>
								
								 <span class="messageinputcode" ></span>
								 
							</table>
						</form>
						<br />
						<table style="width:100%;">
							<form method="POST" action="{$basedomain}generateCode/downloadit" id="generatecodeformdownload" >
								Timespan&nbsp;&nbsp;
								<input type="text" class="half-width" id="datepicker" name="startdate" value="{$startdate}" style="width:100px" />&nbsp;&nbsp;
								<span>to</span>&nbsp;&nbsp;
								<input type="text" class="half-width" id="datepicker2" name="enddate" value="{$enddate}" style="width:100px"  />
								&nbsp;&nbsp;<input type='submit' class="btn btn_document" value='Download XLS' />
							</form>
							<tr><th>id</th><th>code</th><th>channel</th><th>sub channel</th><th>created date</th></tr>
							{foreach from=$codelist key=k item=v}
								<tr><td>{$v.id}</td><td>{$v.code}</td><td>{$v.code_channel}</td><td>{$v.code_sub_channel}</td><td>{$v.created_date}</td></tr>
							{/foreach}
						</table>
						 <div class="pagingbox">
                            <a href="#" class="prev">&laquo; PREV</a>
                            <a href="#">1</a>
                            <a href="#" class="current">2</a>
                            <a href="#">3</a>
                            <a href="#">4</a>
                            <a href="#">5</a>
                            <a href="#" class="next">NEXT &raquo;</a>
                        </div><!-- END .pagingbox -->
            </div> <!-- /.col3 -->
	        </div> <!-- /.section -->
        </div> <!-- /.theContent -->
		<div class="paging" id="pagingbadge"></div> <!-- END .paging -->
				 
    </div> <!-- /.theContainer -->
</div> <!-- /#theContainer -->  

{literal}
<script>
	
	var updateoptions = {
	dataType:  'json', 	
	beforeSubmit: function(data) { 
			 
			/* $(".global-popup-inorout").trigger("click");	*/
			$(".messageinputcode").html("please wait");
			$(".thecodes").val("");
			 
	},
	success : function(data) {		
			
			if(data){
						
						var html ="";
						html = "<p class='postSucces'>"+data.message+"</p>";
						/* $(".global-popup-inorout").trigger("click"); */		
						$(".messageinputcode").html(html);				  
					 
			}
				 
	}
	};					

	$("#generatecodeform").ajaxForm(updateoptions);
	 

</script>
{/literal}